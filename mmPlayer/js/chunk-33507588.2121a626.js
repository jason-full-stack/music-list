(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33507588"],{"0908":function(t,e,r){"use strict";var n=r("9cb9"),i=r.n(n);i.a},1148:function(t,e,r){"use strict";var n=r("a691"),i=r("1d80");t.exports="".repeat||function(t){var e=String(i(this)),r="",s=n(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(r+=e);return r}},1276:function(t,e,r){"use strict";var n=r("d784"),i=r("44e7"),s=r("825a"),c=r("1d80"),o=r("4840"),a=r("8aa5"),u=r("50c4"),l=r("14c3"),d=r("9263"),f=r("d039"),h=[].push,m=Math.min,v=4294967295,p=!f((function(){return!RegExp(v,"y")}));n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(c(this)),s=void 0===r?v:r>>>0;if(0===s)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,s);var o,a,u,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,p=new RegExp(t.source,f+"g");while(o=d.call(p,n)){if(a=p.lastIndex,a>m&&(l.push(n.slice(m,o.index)),o.length>1&&o.index<n.length&&h.apply(l,o.slice(1)),u=o[0].length,m=a,l.length>=s))break;p.lastIndex===o.index&&p.lastIndex++}return m===n.length?!u&&p.test("")||l.push(""):l.push(n.slice(m)),l.length>s?l.slice(0,s):l}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=c(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,i,r):n.call(String(i),e,r)},function(t,i){var c=r(n,t,this,i,n!==e);if(c.done)return c.value;var d=s(t),f=String(this),h=o(d,RegExp),g=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"y":"g"),b=new h(p?d:"^(?:"+d.source+")",y),x=void 0===i?v:i>>>0;if(0===x)return[];if(0===f.length)return null===l(b,f)?[f]:[];var C=0,P=0,M=[];while(P<f.length){b.lastIndex=p?P:0;var w,O=l(b,p?f:f.slice(P));if(null===O||(w=m(u(b.lastIndex+(p?0:P)),f.length))===C)P=a(f,P,g);else{if(M.push(f.slice(C,P)),M.length===x)return M;for(var E=1;E<=O.length-1;E++)if(M.push(O[E]),M.length===x)return M;P=C=w}}return M.push(f.slice(C)),M}]}),!p)},"12f8":function(t,e,r){"use strict";var n=r("7fd6"),i=r.n(n);i.a},"14c3":function(t,e,r){var n=r("c6b6"),i=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var s=r.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"1a26":function(t,e,r){"use strict";var n=r("c7d1"),i=r.n(n);i.a},2262:function(t,e,r){t.exports=r.p+"img/player_cover.373e0739.png"},3169:function(t,e,r){"use strict";var n=r("eefd"),i=r.n(n);i.a},"408a":function(t,e,r){var n=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"44e7":function(t,e,r){var n=r("861d"),i=r("c6b6"),s=r("b622"),c=s("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==i(t))}},"498a":function(t,e,r){"use strict";var n=r("23e7"),i=r("58a8").trim,s=r("e070");n({target:"String",proto:!0,forced:s("trim")},{trim:function(){return i(this)}})},5319:function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),s=r("7b0b"),c=r("50c4"),o=r("a691"),a=r("1d80"),u=r("8aa5"),l=r("14c3"),d=Math.max,f=Math.min,h=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r){return[function(r,n){var i=a(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,i,n):e.call(String(i),r,n)},function(t,s){var a=r(e,t,this,s);if(a.done)return a.value;var h=i(t),m=String(this),v="function"===typeof s;v||(s=String(s));var g=h.global;if(g){var y=h.unicode;h.lastIndex=0}var b=[];while(1){var x=l(h,m);if(null===x)break;if(b.push(x),!g)break;var C=String(x[0]);""===C&&(h.lastIndex=u(m,c(h.lastIndex),y))}for(var P="",M=0,w=0;w<b.length;w++){x=b[w];for(var O=String(x[0]),E=d(f(o(x.index),m.length),0),_=[],k=1;k<x.length;k++)_.push(p(x[k]));var I=x.groups;if(v){var T=[O].concat(_,E,m);void 0!==I&&T.push(I);var j=String(s.apply(void 0,T))}else j=n(O,m,E,_,I,s);E>=M&&(P+=m.slice(M,E)+j,M=E+O.length)}return P+m.slice(M)}];function n(t,r,n,i,c,o){var a=n+t.length,u=i.length,l=v;return void 0!==c&&(c=s(c),l=m),e.call(o,l,(function(e,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(a);case"<":o=c[s.slice(1,-1)];break;default:var l=+s;if(0===l)return e;if(l>u){var d=h(l/10);return 0===d?e:d<=u?void 0===i[d-1]?s.charAt(1):i[d-1]+s.charAt(1):e}o=i[l-1]}return void 0===o?"":o}))}}))},"55f0":function(t,e,r){"use strict";var n=r("936c"),i=r.n(n);i.a},6547:function(t,e,r){var n=r("a691"),i=r("1d80"),s=function(t){return function(e,r){var s,c,o=String(i(e)),a=n(r),u=o.length;return a<0||a>=u?t?"":void 0:(s=o.charCodeAt(a),s<55296||s>56319||a+1===u||(c=o.charCodeAt(a+1))<56320||c>57343?t?o.charAt(a):s:t?o.slice(a,a+2):c-56320+(s-55296<<10)+65536)}};t.exports={codeAt:s(!1),charAt:s(!0)}},"7fd6":function(t,e,r){},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},9263:function(t,e,r){"use strict";var n=r("ad6d"),i=RegExp.prototype.exec,s=String.prototype.replace,c=i,o=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),a=void 0!==/()??/.exec("")[1],u=o||a;u&&(c=function(t){var e,r,c,u,l=this;return a&&(r=new RegExp("^"+l.source+"$(?!\\s)",n.call(l))),o&&(e=l.lastIndex),c=i.call(l,t),o&&c&&(l.lastIndex=l.global?c.index+c[0].length:e),a&&c&&c.length>1&&s.call(c[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)})),c}),t.exports=c},"936c":function(t,e,r){},"9cb9":function(t,e,r){},ac1f:function(t,e,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b680:function(t,e,r){"use strict";var n=r("23e7"),i=r("a691"),s=r("408a"),c=r("1148"),o=r("d039"),a=1..toFixed,u=Math.floor,l=function(t,e,r){return 0===e?r:e%2===1?l(t,e-1,r*t):l(t*t,e/2,r)},d=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},f=a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){a.call({})}));n({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,r,n,o,a=s(this),f=i(t),h=[0,0,0,0,0,0],m="",v="0",p=function(t,e){var r=-1,n=e;while(++r<6)n+=t*h[r],h[r]=n%1e7,n=u(n/1e7)},g=function(t){var e=6,r=0;while(--e>=0)r+=h[e],h[e]=u(r/t),r=r%t*1e7},y=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var r=String(h[t]);e=""===e?r:e+c.call("0",7-r.length)+r}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(m="-",a=-a),a>1e-21)if(e=d(a*l(2,69,1))-69,r=e<0?a*l(2,-e,1):a/l(2,e,1),r*=4503599627370496,e=52-e,e>0){p(0,r),n=f;while(n>=7)p(1e7,0),n-=7;p(l(10,n,1),0),n=e-1;while(n>=23)g(1<<23),n-=23;g(1<<n),p(1,1),g(2),v=y()}else p(0,r),p(1<<-e,0),v=y()+c.call("0",f);return f>0?(o=v.length,v=m+(o<=f?"0."+c.call("0",f-o)+v:v.slice(0,o-f)+"."+v.slice(o-f))):v=m+v,v}})},b76b:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"music"},[r("div",{staticClass:"music-content"},[r("div",{staticClass:"music-left"},[r("music-btn"),r("keep-alive",[t.$route.meta.keepAlive?r("router-view",{staticClass:"music-list"}):t._e()],1),t.$route.meta.keepAlive?t._e():r("router-view",{key:t.$route.path,staticClass:"music-list"})],1),r("lyric",{staticClass:"music-right",attrs:{lyric:t.lyric,nolyric:t.nolyric,"lyric-index":t.lyricIndex}})],1),r("div",{staticClass:"music-bar",class:{disable:!t.musicReady||!t.currentMusic.id}},[r("div",{staticClass:"music-bar-btns"},[r("mm-icon",{staticClass:"pointer",attrs:{type:"prev",size:36,title:"上一曲 Ctrl + Left"},on:{click:t.prev}}),r("div",{staticClass:"control-play pointer",attrs:{title:"播放暂停 Ctrl + Space"},on:{click:t.play}},[r("mm-icon",{attrs:{type:t.playing?"pause":"play",size:24}})],1),r("mm-icon",{staticClass:"pointer",attrs:{type:"next",size:36,title:"下一曲 Ctrl + Right"},on:{click:t.next}})],1),r("div",{staticClass:"music-music"},[r("div",{staticClass:"music-bar-info"},[t.currentMusic&&t.currentMusic.id?[t._v(" "+t._s(t.currentMusic.name)+" "),r("span",[t._v("- "+t._s(t.currentMusic.singer))])]:[t._v("欢迎使用mmPlayer在线音乐播放器")]],2),t.currentMusic.id?r("div",{staticClass:"music-bar-time"},[t._v(t._s(t._f("format")(t.currentTime))+"/"+t._s(t._f("format")(t.currentMusic.duration%3600)))]):t._e(),r("mm-progress",{staticClass:"music-progress",attrs:{percent:t.percentMusic,"percent-progress":t.currentProgress},on:{percentChange:t.progressMusic}})],1),r("mm-icon",{staticClass:"icon-color pointer mode",attrs:{type:t.getModeIconType(),title:t.getModeIconTitle(),size:30},on:{click:t.modeChange}}),r("mm-icon",{staticClass:"icon-color pointer comment",attrs:{type:"comment",size:30},on:{click:t.openComment}}),r("div",{staticClass:"music-bar-volume",attrs:{title:"音量加减 [Ctrl + Up / Down]"}},[r("volume",{attrs:{volume:t.volume},on:{volumeChange:t.volumeChange}})],1)],1),r("div",{staticClass:"mmPlayer-bg",style:{backgroundImage:t.picUrl}}),r("div",{staticClass:"mmPlayer-mask"})])},i=[],s=(r("a4d3"),r("4de4"),r("c740"),r("4160"),r("a9e3"),r("b680"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),c=r("365c"),o=r("db49"),a={initAudio:function(t){var e=t.audioEle;e.onprogress=function(){try{if(e.buffered.length>0){var r=t.currentMusic.duration,n=0;e.buffered.end(0),n=e.buffered.end(0)>r?r:e.buffered.end(0),t.currentProgress=n/r}}catch(i){}},e.onplay=function(){var e;clearTimeout(e),e=setTimeout((function(){t.musicReady=!0}),100)},e.ontimeupdate=function(){t.currentTime=e.currentTime},e.onended=function(){t.mode===o["f"].loop?t.loop():t.next()},e.onerror=function(){t.$mmToast("当前音乐不可播放，已自动播放下一曲"),t.next()},e.onstalled=function(){var r;e.load(),t.setPlaying(!1),clearTimeout(r),r=setTimeout((function(){t.setPlaying(!0)}),10)},e.oncanplay=function(){0!==t.historyList.length&&t.currentMusic.id===t.historyList[0].id||t.setHistory(t.currentMusic)}}},u=a,l=r("ca00"),d=r("5d2d"),f=r("2f62"),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"mmProgress",staticClass:"mmProgress",on:{click:t.barClick}},[r("div",{staticClass:"mmProgress-bar"}),r("div",{ref:"mmPercentProgress",staticClass:"mmProgress-outer"}),r("div",{ref:"mmProgressInner",staticClass:"mmProgress-inner"},[r("div",{staticClass:"mmProgress-dot",on:{mousedown:t.barDown,touchstart:function(e){return e.preventDefault(),t.barDown(e)}}})])])},m=[],v=10,p={name:"MmProgress",props:{percent:{type:[Number],default:0},percentProgress:{type:[Number],default:0}},data:function(){return{move:{status:!1,startX:0,left:0}}},watch:{percent:function(t){if(t>=0&&!this.move.status){var e=this.$refs.mmProgress.clientWidth-v,r=t*e;this.moveSilde(r)}},percentProgress:function(t){var e=this.$refs.mmProgress.clientWidth*t;this.$refs.mmPercentProgress.style.width="".concat(e,"px")}},mounted:function(){var t=this;this.$nextTick((function(){t.bindEvents();var e=t.$refs.mmProgress.clientWidth-v,r=t.percent*e;t.moveSilde(r)}))},beforeDestroy:function(){this.unbindEvents()},methods:{bindEvents:function(){document.addEventListener("mousemove",this.barMove),document.addEventListener("mouseup",this.barUp),document.addEventListener("touchmove",this.barMove),document.addEventListener("touchend",this.barUp)},unbindEvents:function(){document.removeEventListener("mousemove",this.barMove),document.removeEventListener("mouseup",this.barUp),document.removeEventListener("touchmove",this.barMove),document.removeEventListener("touchend",this.barUp)},barClick:function(t){var e=this.$refs.mmProgress.getBoundingClientRect(),r=Math.min(this.$refs.mmProgress.clientWidth-v,Math.max(0,t.clientX-e.left));this.moveSilde(r),this.commitPercent()},barDown:function(t){this.move.status=!0,this.move.startX=t.clientX||t.touches[0].pageX,this.move.left=this.$refs.mmProgressInner.clientWidth},barMove:function(t){if(!this.move.status)return!1;t.preventDefault();var e=t.clientX||t.touches[0].pageX,r=e-this.move.startX,n=Math.min(this.$refs.mmProgress.clientWidth-v,Math.max(0,this.move.left+r));this.moveSilde(n),this.commitPercent()},barUp:function(t){this.move.status=!1},moveSilde:function(t){this.$refs.mmProgressInner.style.width="".concat(t,"px")},commitPercent:function(){var t=this.$refs.mmProgress.clientWidth-v,e=this.$refs.mmProgressInner.clientWidth/t;this.$emit("percentChange",e)}}},g=p,y=(r("0908"),r("2877")),b=Object(y["a"])(g,h,m,!1,null,null,null),x=b.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"music-btn"},[r("router-link",{attrs:{to:"/music/playlist",tag:"span"}},[t._v("正在播放")]),r("router-link",{attrs:{to:"/music/toplist",tag:"span"}},[t._v("推荐")]),r("router-link",{attrs:{to:"/music/search",tag:"span"}},[t._v("搜索")]),r("router-link",{staticClass:"none-414",attrs:{to:"/music/userlist",tag:"span"}},[t._v("我的歌单")]),r("router-link",{attrs:{to:"/music/historylist",tag:"span"}},[t._v("我听过的")])],1)},P=[],M={},w=M,O=(r("55f0"),Object(y["a"])(w,C,P,!1,null,"22361898",null)),E=O.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("dl",{staticClass:"music-info"},[r("dt",[r("img",{attrs:{src:t.musicPicUrl}})]),t.currentMusic.id?[r("dd",[t._v("歌曲名："+t._s(t.currentMusic.name))]),r("dd",[t._v("歌手名："+t._s(t.currentMusic.singer))]),r("dd",[t._v("专辑名："+t._s(t.currentMusic.album))])]:[r("dd",[t._v("mmPlayer在线音乐播放器")]),r("dd",[r("a",{staticClass:"hover",attrs:{target:"_blank",href:"https://github.com/maomao1996"}},[r("mm-icon",{attrs:{type:"github",size:14}}),t._v(" 茂茂 ")],1)])]],2),r("div",{ref:"musicLyric",staticClass:"music-lyric"},[r("div",{staticClass:"music-lyric-items",style:t.lyricTop},[t.currentMusic.id?t.nolyric?r("p",[t._v("暂无歌词！")]):t.lyric.length>0?t._l(t.lyric,(function(e,n){return r("p",{key:n,class:{on:t.lyricIndex===n}},[t._v(t._s(e.text))])})):r("p",[t._v("歌词加载失败！")]):r("p",[t._v("还没有播放音乐哦！")])],2)])])},k=[];function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(r,!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var j={name:"Lyric",props:{lyric:{type:Array,default:function(){return[]}},nolyric:{type:Boolean,default:!1},lyricIndex:{type:Number,default:0}},data:function(){return{top:0}},computed:T({musicPicUrl:function(){return this.currentMusic.id?"".concat(this.currentMusic.image,"?param=300y300"):r("2262")},lyricTop:function(){return"transform :translate3d(0, ".concat(-34*(this.lyricIndex-this.top),"px, 0)")}},Object(f["c"])(["currentMusic"])),mounted:function(){var t=this;window.addEventListener("resize",(function(){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout((function(){return t.clacTop()}),60)})),this.$nextTick((function(){return t.clacTop()}))},methods:{clacTop:function(){var t=this.$refs.musicLyric,e=window.getComputedStyle(t),r=e.display,n=void 0===r?"":r;if("none"!==n){var i=t.offsetHeight;this.top=Math.floor(i/34/2)}}}},$=j,S=(r("3169"),Object(y["a"])($,_,k,!1,null,"5d512624",null)),R=S.exports,L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"volume"},[r("mm-icon",{staticClass:"pointer volume-icon",attrs:{type:t.getVolumeIconType(),size:30},on:{click:t.handleToggleVolume}}),r("div",{staticClass:"volume-progress-wrapper"},[r("mm-progress",{attrs:{percent:t.volumeProgress},on:{percentChange:t.handleVolumeChange}})],1)],1)},A=[],D={name:"Volume",components:{MmProgress:x},props:{volume:{type:Number,required:!0}},computed:{volumeProgress:function(){return this.volume},isMute:{get:function(){return 0===this.volumeProgress},set:function(t){var e=t?0:this.lastVolume;t&&(this.lastVolume=this.volumeProgress),this.handleVolumeChange(e)}}},methods:{getVolumeIconType:function(){return this.isMute?"volume-off":"volume"},handleToggleVolume:function(){this.isMute=!this.isMute},handleVolumeChange:function(t){this.$emit("volumeChange",t)}}},N=D,U=(r("12f8"),Object(y["a"])(N,L,A,!1,null,"d34f3866",null)),V=U.exports;function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(r,!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var X={name:"Music",components:{MmProgress:x,MusicBtn:E,Lyric:R,Volume:V},filters:{format:l["b"]},data:function(){var t=Object(d["f"])();return{musicReady:!1,currentTime:0,currentProgress:0,lyric:[],nolyric:!1,lyricIndex:0,isMute:!1,volume:t}},computed:W({picUrl:function(){return this.currentMusic.id&&this.currentMusic.image?"url(".concat(this.currentMusic.image,"?param=300y300)"):"url(".concat(o["b"],")")},percentMusic:function(){var t=this.currentMusic.duration;return this.currentTime&&t?this.currentTime/t:0}},Object(f["c"])(["audioEle","mode","playing","playlist","orderList","currentIndex","currentMusic","historyList"])),watch:{currentMusic:function(t,e){var r=this;t.id?t.id!==e.id&&(this.audioEle.src=t.url,this.lyricIndex=this.currentTime=this.currentProgress=0,this.audioEle.play(),this.$nextTick((function(){r._getLyric(t.id)}))):this.lyric=[]},playing:function(t){var e=this,r=this.audioEle;this.$nextTick((function(){t?r.play():r.pause(),e.musicReady=!0}))},currentTime:function(t){if(!this.nolyric){for(var e=0,r=0;r<this.lyric.length;r++)t>this.lyric[r].time&&(e=r);this.lyricIndex=e}}},mounted:function(){var t=this;this.$nextTick((function(){u.initAudio(t),t.initKeyDown(),t.volumeChange(t.volume)}))},methods:W({initKeyDown:function(){var t=this;document.onkeydown=function(e){switch(e.ctrlKey&&e.keyCode){case 32:t.play();break;case 37:t.prev();break;case 38:var r=Number((t.volume+=.1).toFixed(1));r>1&&(r=1),t.volumeChange(r);break;case 39:t.next();break;case 40:var n=Number((t.volume-=.1).toFixed(1));n<0&&(n=0),t.volumeChange(n);break;case 79:t.modeChange();break}}},prev:function(){if(this.musicReady)if(1===this.playlist.length)this.loop();else{var t=this.currentIndex-1;t<0&&(t=this.playlist.length-1),this.setCurrentIndex(t),!this.playing&&this.musicReady&&this.setPlaying(!0),this.musicReady=!1}},play:function(){this.musicReady&&this.setPlaying(!this.playing)},next:function(){if(this.musicReady){if(this.playlist.length-1===this.currentIndex&&this.mode===o["f"].order)return this.setCurrentIndex(-1),void this.setPlaying(!1);if(1===this.playlist.length)this.loop();else{var t=this.currentIndex+1;t===this.playlist.length&&(t=0),!this.playing&&this.musicReady&&this.setPlaying(!0),this.setCurrentIndex(t),this.musicReady=!1}}},loop:function(){this.audioEle.currentTime=0,this.audioEle.play(),this.setPlaying(!0),this.lyric.length>0&&(this.lyricIndex=0)},progressMusic:function(t){this.audioEle.currentTime=this.currentMusic.duration*t},modeChange:function(){var t=(this.mode+1)%4;if(this.setPlayMode(t),t!==o["f"].loop){var e=[];switch(t){case o["f"].listLoop:case o["f"].order:e=this.orderList;break;case o["f"].random:e=Object(l["d"])(this.orderList);break}this.resetCurrentIndex(e),this.setPlaylist(e)}},resetCurrentIndex:function(t){var e=this,r=t.findIndex((function(t){return t.id===e.currentMusic.id}));this.setCurrentIndex(r)},openComment:function(){if(!this.currentMusic.id)return this.$mmToast("还没有播放歌曲哦！"),!1;this.$router.push("/music/comment/".concat(this.currentMusic.id))},volumeChange:function(t){this.isMute=0===t,this.volume=t,this.audioEle.volume=t,Object(d["l"])(t)},getModeIconType:function(){var t;return(t={},Object(s["a"])(t,o["f"].listLoop,"loop"),Object(s["a"])(t,o["f"].order,"sequence"),Object(s["a"])(t,o["f"].random,"random"),Object(s["a"])(t,o["f"].loop,"loop-one"),t)[this.mode]},getModeIconTitle:function(){var t,e="Ctrl + O";return(t={},Object(s["a"])(t,o["f"].listLoop,"列表循环 ".concat(e)),Object(s["a"])(t,o["f"].order,"顺序播放 ".concat(e)),Object(s["a"])(t,o["f"].random,"随机播放 ".concat(e)),Object(s["a"])(t,o["f"].loop,"单曲循环 ".concat(e)),t)[this.mode]},_getLyric:function(t){var e=this;Object(c["b"])(t).then((function(t){200===t.status&&(t.data.nolyric?e.nolyric=!0:(e.nolyric=!1,e.lyric=Object(l["c"])(t.data.lrc.lyric)),e.audioEle.play())}))}},Object(f["d"])({setPlaying:"SET_PLAYING",setPlaylist:"SET_PLAYLIST",setCurrentIndex:"SET_CURRENTINDEX"}),{},Object(f["b"])(["setHistory","setPlayMode"]))},F=X,B=(r("1a26"),Object(y["a"])(F,n,i,!1,null,null,null));e["default"]=B.exports},c7d1:function(t,e,r){},ca00:function(t,e,r){"use strict";r.d(e,"d",(function(){return i})),r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a}));r("99af"),r("ac1f"),r("5319"),r("1276"),r("498a");function n(t,e){var r=-1,n=t.length;e||(e=new Array(n));while(++r<n)e[r]=t[r];return e}var i=function(t){var e=null==t?0:t.length;if(!e)return[];var r=-1,i=e-1,s=n(t);while(++r<e){var c=r+Math.floor(Math.random()*(i-r+1)),o=s[c];s[c]=s[r],s[r]=o}return s};function s(t){return t<10?"0"+t:t}var c=/\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g;function o(t){for(var e=t.split("\n"),r=[],n=0;n<e.length;n++){var i=e[n],s=c.exec(i);if(s){var o=i.replace(c,"").trim();o&&r.push({time:(6e4*s[1]+1e3*s[2]+1*(s[3]||0))/1e3,text:o})}}return r}function a(t){var e=Math.floor(t/60),r=Math.floor(t%60);return"".concat(s(e),":").concat(s(r))}},d784:function(t,e,r){"use strict";var n=r("9112"),i=r("6eeb"),s=r("d039"),c=r("b622"),o=r("9263"),a=c("species"),u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,d){var f=c(t),h=!s((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),m=h&&!s((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[a]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!h||!m||"replace"===t&&!u||"split"===t&&!l){var v=/./[f],p=r(f,""[t],(function(t,e,r,n,i){return e.exec===o?h&&!i?{done:!0,value:v.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),g=p[0],y=p[1];i(String.prototype,t,g),i(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)}),d&&n(RegExp.prototype[f],"sham",!0)}}},e070:function(t,e,r){var n=r("d039"),i=r("5899"),s="​᠎";t.exports=function(t){return n((function(){return!!i[t]()||s[t]()!=s||i[t].name!==t}))}},eefd:function(t,e,r){}}]);
//# sourceMappingURL=chunk-33507588.2121a626.js.map